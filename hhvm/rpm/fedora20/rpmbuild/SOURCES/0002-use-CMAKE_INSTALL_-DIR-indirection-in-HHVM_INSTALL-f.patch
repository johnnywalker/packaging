From a68ff4bf36ce0762048b279d00233b94b1234384 Mon Sep 17 00:00:00 2001
From: Johnny Walker <jwalker@ashley-martin.com>
Date: Fri, 18 Jul 2014 08:36:23 -0600
Subject: [PATCH 2/7] use CMAKE_INSTALL_?DIR indirection in HHVM_INSTALL
 function

Conflicts:
	CMake/HPHPFunctions.cmake
---
 CMake/HPHPFunctions.cmake | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

diff --git a/CMake/HPHPFunctions.cmake b/CMake/HPHPFunctions.cmake
index f6c167a..f36a6fb 100644
--- a/CMake/HPHPFunctions.cmake
+++ b/CMake/HPHPFunctions.cmake
@@ -152,7 +152,9 @@ function(HHVM_INSTALL TARGET DEST)
       endif()
     endif()
   endif()
-  install(CODE "FILE(INSTALL DESTINATION \"\${CMAKE_INSTALL_PREFIX}/${DEST}\" TYPE ${TY} FILES \"${LOC}\")")
+  string(TOUPPER ${DEST} DEST_UPPER)
+  install(CODE "include(GNUInstallDirs)")
+  install(CODE "FILE(INSTALL DESTINATION \"\${CMAKE_INSTALL_${DEST_UPPER}DIR}\" TYPE ${TY} FILES \"${LOC}\")")
 endfunction(HHVM_INSTALL)
 
 function(HHVM_PUBLIC_HEADERS TARGET)
-- 
1.9.3

